<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix</title>
    <link rel="stylesheet" href="../../styles/signin.css">
</head>
<body>
    <div class="main">
        <div class="main-nav">
            <img src="../../assets/images/logo.png" alt="Logo" class="Logo">
        </div>
        <div class="headerContent">
            <div class="Head">
                <h2>Sign In</h2>
            </div>
            <div class="forms">
                <form class="email-signin" autocomplete="off">
                    <input type="email" id="email" placeholder="Email Address" required autocomplete="new-password">
                </form>

                <form class="password" autocomplete="off">
                    <input type="password" id="password" placeholder="Password" required autocomplete="new-password">
                </form>
            </div>
            <button id="SignIn">Sign In</button>
            
            <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
            <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
            <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
            <script>

                    const firebaseConfig = {
                      apiKey: "AIzaSyAeiIfBlQUbRDqoDI6WZJnGLooYC3j4m-c",
                      authDomain: "netflix-clone-47904.firebaseapp.com",
                      projectId: "netflix-clone-47904",
                      storageBucket: "netflix-clone-47904.appspot.com",
                      messagingSenderId: "463765950759",
                      appId: "1:463765950759:web:abfc296e2dfb6446ebd902",
                      measurementId: "G-RS91PXQ42J"
                    };

                    // Initialize Firebase
                    firebase.initializeApp(firebaseConfig);

                    function signInWithEmailAndPassword() {
                    const emailForm = document.getElementById('email');
                    const email = emailForm.value;
                    const passwordButton = document.getElementById('password');
                    const password = passwordButton.value;

                    firebase.auth().signInWithEmailAndPassword(email, password)
                        .then((userCredential) => {
                            // Signed in
                            const user = userCredential.user;
                            console.log("You are signed in !!");
                            window.location.href = "/signup";
                        })
                        .catch((error) => {
                            passwordButton.style.border = '1px solid red';
                            emailForm.style.border = '1px solid red';
                            setTimeout(()=> {
                                passwordButton.style.border = '0px solid black';  
                                emailForm.style.border = '0px solid black';
                            }, 3000);
                        });
                    }

                    document.getElementById('SignIn').addEventListener('click', signInWithEmailAndPassword);

            </script>

            <div class="userChoice">
                <div class="rememberMe">
                <ul>
                    <li>
                        <input type="checkbox" id="checkbox1" name="checkbox1">
                        <label for="checkbox1">Remember me</label>
                    </li>
                </ul>
                </div>
                <p>Need Help?</p>
            </div>

            <div class="ExtraDetails">
                <div class="SignUp">
                    <p>New to Netflix? <a href="/in" id="linkToSingup" style="color: white;">Sign up now.</a></p>
                </div>
                <p>This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more.</p>
            </div>
            </div>

            <div class="footer">
                <div class="box">
                    <h2>Questions? call 0101-0101-0101-0101</h2>
                    
                    <div class="row">
                    <div class="col">
                        <a href="#">FAQ</a>
                        <a href="#">Cookie Preferences</a>
                    </div>
                    <div class="col">
                        <a href="#">Help Centre</a>
                        <a href="#">Corporate Information</a>
                    </div>
                    <div class="col">
                        <a href="#">Terms of Use</a>
                    </div>
                    <div class="col">
                        <a href="#">Privacy</a>
                    </div>
                </div>
        </div>

    </div>

    <script>

    </script>
</body>
</html>